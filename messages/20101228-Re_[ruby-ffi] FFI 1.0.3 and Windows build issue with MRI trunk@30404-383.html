<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] FFI 1.0.3 and Windows build issue with MRI trunk@30404</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] FFI 1.0.3 and Windows build issue with MRI trunk@30404</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Jon <jon.forums@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>12/28/10 10:02 AM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
</pre><blockquote type=cite style="color: #000000;"><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; &gt; </span>I think it's fine to enforce code consistency for MRI core and it's included extensions, but agree with you on breaking third party code. I can't yet see how this mod enhances code quality. Extension API's already exist for third parties to code to. IMO, a build flag is not an API.
<span class="moz-txt-citetags">&gt; &gt;</span>
</pre></blockquote><pre wrap>
<span class="moz-txt-citetags">&gt; </span>
<span class="moz-txt-citetags">&gt; </span>Jon, why not report this to Ruby-Core instead?
<span class="moz-txt-citetags">&gt; </span>
<span class="moz-txt-citetags">&gt; </span>If the flag is going to have such impact on extensions and other gems,
<span class="moz-txt-citetags">&gt; </span>Core should hear this before that change hits another release.
</pre></blockquote><pre wrap>

Already started in the <a class="moz-txt-link-freetext" href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/33843">http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/33843</a> thread.  Not much uptake in discussion likely because the thread title is likely skippable <span class="moz-smiley-s3" title=";)"><span>;)</span></span>  Perhaps you or others would like to weigh in?


</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>More than "extending things to circumvent the change" in the form of
<span class="moz-txt-citetags">&gt; </span>patch or anything, better tell Core to revert that or make it default
<span class="moz-txt-citetags">&gt; </span>false with the optional configure flag.
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>Sorry for the tone, couldn't resist that this needs to be deal on Core
<span class="moz-txt-citetags">&gt; </span>by Core and not discussed over this list.
</pre></blockquote><pre wrap>

In general, this is good feedback Luis. However, in this case, the issue has already been highlighted to core and I think it's premature to revert it or make it an optional default.  While I'm not yet decided, I fundamentally like the mod, but it needs to be enhanced as trunk mods often do.  On this FFI thread, I'm really interested in hearing Wayne's feedback since the FFI gem is an important cross platform capability.

At this stage I'm just trying to get some other PoV's on the dual build environment idea. If it adds value, the next step is a feature request.

Jon
</pre></div></body>
</html>
</table></div>