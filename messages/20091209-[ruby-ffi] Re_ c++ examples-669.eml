Delivered-To: headius@headius.com
Received: by 10.114.184.4 with SMTP id h4cs729635waf;
        Wed, 9 Dec 2009 10:53:59 -0800 (PST)
Received: by 10.150.28.5 with SMTP id b5mr17034027ybb.232.1260384838524;
        Wed, 09 Dec 2009 10:53:58 -0800 (PST)
Return-Path: <3NPIfSw0JCJEC91zCAvx5NLLQ17v36.x97CFwJ-00319916z1C9FAD.x97@listserv.bounces.google.com>
Received: from mail-gx0-f196.google.com (mail-gx0-f196.google.com [209.85.217.196])
        by mx.google.com with ESMTP id 17si209745yxe.66.2009.12.09.10.53.58;
        Wed, 09 Dec 2009 10:53:58 -0800 (PST)
Received-SPF: pass (google.com: domain of 3NPIfSw0JCJEC91zCAvx5NLLQ17v36.x97CFwJ-00319916z1C9FAD.x97@listserv.bounces.google.com designates 209.85.217.196 as permitted sender) client-ip=209.85.217.196;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of 3NPIfSw0JCJEC91zCAvx5NLLQ17v36.x97CFwJ-00319916z1C9FAD.x97@listserv.bounces.google.com designates 209.85.217.196 as permitted sender) smtp.mail=3NPIfSw0JCJEC91zCAvx5NLLQ17v36.x97CFwJ-00319916z1C9FAD.x97@listserv.bounces.google.com
Received: by gxk20 with SMTP id 20sf2959763gxk.15
        for <headius@headius.com>; Wed, 09 Dec 2009 10:53:58 -0800 (PST)
Received: by 10.101.130.29 with SMTP id h29mr562589ann.32.1260384821727;
        Wed, 09 Dec 2009 10:53:41 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.100.17.29 with SMTP id 29ls332301anq.1.p; Wed, 09 Dec 2009 
	10:53:39 -0800 (PST)
Received: by 10.100.245.27 with SMTP id s27mr10937856anh.10.1260384819177;
        Wed, 09 Dec 2009 10:53:39 -0800 (PST)
Received: by 10.100.245.27 with SMTP id s27mr10937855anh.10.1260384819146;
        Wed, 09 Dec 2009 10:53:39 -0800 (PST)
Return-Path: <rogerpack2005@gmail.com>
Received: from mail-gx0-f189.google.com (mail-gx0-f189.google.com [209.85.217.189])
        by gmr-mx.google.com with ESMTP id 12si12557gxk.6.2009.12.09.10.53.39;
        Wed, 09 Dec 2009 10:53:39 -0800 (PST)
Received-SPF: pass (google.com: domain of rogerpack2005@gmail.com designates 209.85.217.189 as permitted sender) client-ip=209.85.217.189;
Received: by gxk5 with SMTP id 5so12222482gxk.19
        for <ruby-ffi@googlegroups.com>; Wed, 09 Dec 2009 10:53:39 -0800 (PST)
MIME-Version: 1.0
Received: by 10.100.18.21 with SMTP id 21mr982353anr.23.1260384819059; Wed, 09 
	Dec 2009 10:53:39 -0800 (PST)
Date: Wed, 9 Dec 2009 10:53:38 -0800 (PST)
In-Reply-To: <A488E251-8257-44D3-B1C1-245612AB9D2B@fallingsnow.net>
X-IP: 216.49.181.254
References: <ae3ecdd9-459d-4496-a17a-a9eb1a88d154@v25g2000yqk.googlegroups.com> 
	<6299bf3a-f922-4bec-beb1-2a723274b099@z7g2000vbl.googlegroups.com> 
	<9bd8f0b9-5c7e-4370-9167-44db8112167e@u20g2000vbq.googlegroups.com> 
	<71166b3b0912051418r156d05a0v18ab2503dc2bf1b3@mail.gmail.com> 
	<3d351bca-ca00-47ab-bb05-644547d4a49a@y32g2000prd.googlegroups.com> 
	<A488E251-8257-44D3-B1C1-245612AB9D2B@fallingsnow.net>
User-Agent: G2/1.0
X-HTTP-UserAgent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) 
	AppleWebKit/532.5 (KHTML, like Gecko) Chrome/4.0.249.25 Safari/532.5,gzip(gfe),gzip(gfe)
Message-ID: <472fe984-a4e8-4b27-a0f7-73e58033d443@f18g2000prf.googlegroups.com>
Subject: [ruby-ffi] Re: c++ examples
From: rogerdpack <rogerpack2005@gmail.com>
To: ruby-ffi <ruby-ffi@googlegroups.com>
X-Original-Authentication-Results: gmr-mx.google.com; spf=pass (google.com: 
	domain of rogerpack2005@gmail.com designates 209.85.217.189 as permitted 
	sender) smtp.mail=rogerpack2005@gmail.com
X-Original-Sender: rogerpack2005@gmail.com
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=>, 
	<mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=>
X-Thread-Url: http://groups.google.com/group/ruby-ffi/t/cb31aba29ae17e59
X-Message-Url: http://groups.google.com/group/ruby-ffi/msg/ba7216bc0e6e74e2
Sender: ruby-ffi@googlegroups.com
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+unsubscribe@googlegroups.com>
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+subscribe@googlegroups.com>
Content-Type: text/plain; charset=ISO-8859-1

> I do not recommend this at all. Using finalizers to release external resources is a very easy way to cause memory leaks and latent bugs.

Anybody know if collection at finalize time what the following code
(from the tutorial) does by default?

module MyLibrary
  class SomeObject < FFI::ManagedStruct
    layout :next,  :pointer,
           :name,  :string,
           :value, :double,

    def self.release(ptr)
      MyLibrary.free_object(ptr)
    end
  end
end
Thanks.
-r
