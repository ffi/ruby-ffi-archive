<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] Link to non-windows dlls</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] Link to non-windows dlls</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Luis Lavena <luislavena@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>10/23/10 9:46 AM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
On Fri, Oct 22, 2010 at 8:33 PM, kvberge <a class="moz-txt-link-rfc2396E" href="mailto:kvandenberge@gmail.com">&lt;kvandenberge@gmail.com&gt;</a> wrote:
</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>Is there a trick to using FFI and the non-windows api dll's?  I am
<span class="moz-txt-citetags">&gt; </span>attempting to link to a custom usb dll that is known to work
<span class="moz-txt-citetags">&gt; </span>(currently using wrapper created from swig and using ruby 1.8.6).  I
<span class="moz-txt-citetags">&gt; </span>am now attempting to run ruby 1.9.2 and FFI seemed like a simpler
<span class="moz-txt-citetags">&gt; </span>solution than worrying about using swig.  I should also note that I am
<span class="moz-txt-citetags">&gt; </span>on windows 7 and ran the ruby one click installer for windows.  When
<span class="moz-txt-citetags">&gt; </span>running the script I get this error:
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>Any advice?
<span class="moz-txt-citetags">&gt; </span>If you need more information let me know.
</pre></blockquote><pre wrap>

Please show the code, we need to look at the code to be able to see
what are you talking about. Perhaps even reproduce it.

Some non-microsoft DLLs uses cdecl as calling convention instead of
stdcall, which is the default on Windows.

Please provide every single piece of code and information for us to be
able to reproduce the problem. Linsk to download of the DLL, the code
that generates the issue, any documentation.

That will really help us help you.
<div class="moz-txt-sig">-- 
Luis Lavena
AREA 17
-
Perfection in design is achieved not when there is nothing more to add,
but rather when there is nothing more to take away.
Antoine de Saint-Exupéry
</div></pre></div></body>
</html>
</table></div>