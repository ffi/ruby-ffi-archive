<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>[ruby-ffi] Array of Ints</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>[ruby-ffi] Array of Ints</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>John Lee <jiujitsu1985@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>10/25/11 3:51 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi <ruby-ffi@googlegroups.com></td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
I am  using Ruby 192

I have the following c function:

int function1(int *dataArray, int value1 , int value2)
The first argument is an array of ints


Here is my FFI code:
attach_function :function1, [:pointer, :int, :int], :int
ruby_array =  FFI::MemoryPointer.new(:int,4)
ruby_array.write_array_of_int(1000,2000,3000,4000])

...
function1(ruby_array, 1, 2)

But that produces an error message that function1 is an  undefined
method.

I've tried to find documentation that explains how array works, but is
unable to. How would arrays of ints be implemented?


</pre></div></body>
</html>
</table></div>