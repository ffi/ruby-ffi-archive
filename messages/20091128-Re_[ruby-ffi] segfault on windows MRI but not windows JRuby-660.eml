Delivered-To: headius@headius.com
Received: by 10.142.52.18 with SMTP id z18cs219225wfz;
        Sat, 28 Nov 2009 12:29:33 -0800 (PST)
Received: by 10.220.126.150 with SMTP id c22mr3031832vcs.6.1259440172429;
        Sat, 28 Nov 2009 12:29:32 -0800 (PST)
Return-Path: <3KogRSwoJCA8y32.u36917v1px0.r3169qD-uuxv33v0tv63947.r31@listserv.bounces.google.com>
Received: from mail-qy0-f162.google.com (mail-qy0-f162.google.com [209.85.221.162])
        by mx.google.com with ESMTP id 28si4203050vws.118.2009.11.28.12.29.31;
        Sat, 28 Nov 2009 12:29:31 -0800 (PST)
Received-SPF: pass (google.com: domain of 3KogRSwoJCA8y32.u36917v1px0.r3169qD-uuxv33v0tv63947.r31@listserv.bounces.google.com designates 209.85.221.162 as permitted sender) client-ip=209.85.221.162;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of 3KogRSwoJCA8y32.u36917v1px0.r3169qD-uuxv33v0tv63947.r31@listserv.bounces.google.com designates 209.85.221.162 as permitted sender) smtp.mail=3KogRSwoJCA8y32.u36917v1px0.r3169qD-uuxv33v0tv63947.r31@listserv.bounces.google.com; dkim=pass (test mode) header.i=@gmail.com
Received: by qyk34 with SMTP id 34sf669493qyk.22
        for <headius@headius.com>; Sat, 28 Nov 2009 12:29:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:x-beenthere:received:received:received
         :received:received-spf:received:received:received:date:from:to
         :subject:message-id:in-reply-to:references:x-mailer:mime-version
         :x-original-authentication-results:reply-to:precedence:mailing-list
         :list-id:list-post:list-help:list-archive:x-thread-url:x-message-url
         :list-unsubscribe:list-subscribe:content-type
         :content-transfer-encoding;
        bh=dz0LVxAW64NcqgBy501YOVmlL85xfJ/u4bDwVAksn28=;
        b=JRBCzraOT+ks3dCEtYrncYwBwwln120r5pl6EovGmAhb1wBO/qNQaSts3Tg27HCQs7
         4VtKLSx9ngzS3CLdT06ctkPWJ0Kc/YFFvj7nQFF4wT1f2Dq5bN8+me+jhQ7kUskMkgRX
         9l1Cr5EcwUM47I4Br4Mxyapm0OjY+ttLje+w4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-beenthere:received-spf:date:from:to:subject:message-id
         :in-reply-to:references:x-mailer:mime-version
         :x-original-authentication-results:reply-to:precedence:mailing-list
         :list-id:list-post:list-help:list-archive:x-thread-url:x-message-url
         :list-unsubscribe:list-subscribe:content-type
         :content-transfer-encoding;
        b=YLuRdBwo4qMcLsj7N/kAj5jDF6E67zsvJpzdOQ4VUbfLlhrydpTTCxJAyNntQp3Jly
         IxaceLMnSj1fxBfPZ6x2AqBx3QyCLIvEi//wtD08eEc+u7ww1gK7WzfW0xJv/tP3hQmS
         BzZ38A0prYzOSCel8VH24Qy3vq0HIpKeEA6e4=
Received: by 10.224.124.213 with SMTP id v21mr23161qar.19.1259440170022;
        Sat, 28 Nov 2009 12:29:30 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.224.42.144 with SMTP id s16ls123518qae.2.p; Sat, 28 Nov 2009 
	12:29:29 -0800 (PST)
Received: by 10.224.114.197 with SMTP id f5mr208640qaq.23.1259440169548;
        Sat, 28 Nov 2009 12:29:29 -0800 (PST)
Received: by 10.224.114.197 with SMTP id f5mr208639qaq.23.1259440169524;
        Sat, 28 Nov 2009 12:29:29 -0800 (PST)
Return-Path: <jon.forums@gmail.com>
Received: from qw-out-2122.google.com (qw-out-2122.google.com [74.125.92.24])
        by gmr-mx.google.com with ESMTP id 25si308727qyk.15.2009.11.28.12.29.28;
        Sat, 28 Nov 2009 12:29:28 -0800 (PST)
Received-SPF: pass (google.com: domain of jon.forums@gmail.com designates 74.125.92.24 as permitted sender) client-ip=74.125.92.24;
Received: by qw-out-2122.google.com with SMTP id 9so442384qwb.13
        for <ruby-ffi@googlegroups.com>; Sat, 28 Nov 2009 12:29:28 -0800 (PST)
Received: by 10.224.126.212 with SMTP id d20mr1243392qas.118.1259440168405;
        Sat, 28 Nov 2009 12:29:28 -0800 (PST)
Return-Path: <jon.forums@gmail.com>
Received: from Red (rrcs-24-123-72-16.central.biz.rr.com [24.123.72.16])
        by mx.google.com with ESMTPS id 20sm2332523qyk.1.2009.11.28.12.29.26
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Sat, 28 Nov 2009 12:29:26 -0800 (PST)
Date: Sat, 28 Nov 2009 15:29:18 -0500
From: Jon <jon.forums@gmail.com>
To: ruby-ffi@googlegroups.com
Subject: Re: [ruby-ffi] segfault on windows MRI but not windows JRuby
Message-Id: <20091128152918.f928f8ec.jon.forums@gmail.com>
In-Reply-To: <20091128150314.df613792.jon.forums@gmail.com>
References: <20091127124131.0f3ca7b2.jon.forums@gmail.com>
	<4ccee320911271206j74ac5e40tb09f9918f2ca211e@mail.gmail.com>
	<20091128150314.df613792.jon.forums@gmail.com>
X-Mailer: Sylpheed 2.7.1 (GTK+ 2.10.14; i686-pc-mingw32)
Mime-Version: 1.0
X-Original-Authentication-Results: gmr-mx.google.com; spf=pass (google.com: 
	domain of jon.forums@gmail.com designates 74.125.92.24 as permitted sender) 
	smtp.mail=jon.forums@gmail.com; dkim=pass (test mode) header.i=@gmail.com
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=>, 
	<mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=>
X-Thread-Url: http://groups.google.com/group/ruby-ffi/t/1712f5507b15b467
X-Message-Url: http://groups.google.com/group/ruby-ffi/msg/971a33acb861bb14
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+unsubscribe@googlegroups.com>
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+subscribe@googlegroups.com>
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

> > Try setting ffi_convention to :default before declaring the callback,
> > and then to :stdcall when declaring the functions exported by the
> > library.
> 
> OK.  Will also try ffi_convention :stdcall before declaring the callback *and* before declaring the exported library fcns.

Still digging, none of these work...
