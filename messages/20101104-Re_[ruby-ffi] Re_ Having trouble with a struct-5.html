<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] Re: Having trouble with a struct</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] Re: Having trouble with a struct</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Wayne Meissner <wmeissner@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>11/4/10 1:54 AM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
On 4 November 2010 10:24, Qwerty <a class="moz-txt-link-rfc2396E" href="mailto:qwerty123451910@hotmail.com">&lt;qwerty123451910@hotmail.com&gt;</a> wrote:
</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>1. Open suse 11.3 kernel: 2.6.34.7-0.5-desktop #1 SMP PREEMPT.
<span class="moz-txt-citetags">&gt; </span>Intel(R) Core(TM)2 Duo CPU E8400 @ 3.00GHz
</pre></blockquote><pre wrap>

Is your ruby running as 32bit or 64bit?

</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>2. I tried it with JRuby 1.5.2 and got an error about pack being
<span class="moz-txt-citetags">&gt; </span>undefined. I tried the alias packed with no luck. The JRuby ffi gem
<span class="moz-txt-citetags">&gt; </span>directory only has 1 file ffi-0.6.3-java/lib/ffi.rb. Are the other
<span class="moz-txt-citetags">&gt; </span>files outside this directory? The docs only show the 3 methods defined
<span class="moz-txt-citetags">&gt; </span>in that file(Pointer), yet is doesn't complain about FFI::Struct.
</pre></blockquote><pre wrap>

All of FFI for JRuby is contained in JRuby itself - the ffi gem is
just a shim to satisfy gem dependencies (and occasionally used to
patch the API post release).

At least this bug is easily reproducable, so shouldn't be too hard to
track down where in StructLayoutBuilder the problem is.
</pre></div></body>
</html>
</table></div>