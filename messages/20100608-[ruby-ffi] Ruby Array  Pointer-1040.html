<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>[ruby-ffi] Ruby Array  Pointer</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>[ruby-ffi] Ruby Array  Pointer</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>v01d <phreakuencies@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>6/8/10 5:25 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi <ruby-ffi@googlegroups.com></td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
Hi,
is it possible to pass a C function the data pointer to a Ruby array?
I have a Matrix class, and I wish to write a "to_a" method which will
produce an array of arrays. I've tried several ways and tested the
performance but it seems really slow, and I think it would be better
to just attach a C function that would take the pointer to the
destination array and the pointer to the input data contained in the
matrix (this second part is no problem).
Is this possible? Or I have to resort to writing a C function that
accesses the array using RARRAY_PTR and such?

Thanks,
Matt
</pre></div></body>
</html>
</table></div>