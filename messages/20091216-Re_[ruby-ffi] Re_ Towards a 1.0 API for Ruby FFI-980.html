<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] Re: Towards a 1.0 API for Ruby FFI</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] Re: Towards a 1.0 API for Ruby FFI</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Luis Lavena <luislavena@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>12/16/09 12:49 AM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
On Wed, Dec 16, 2009 at 3:21 AM, Victor Costan <a class="moz-txt-link-rfc2396E" href="mailto:costan@gmail.com">&lt;costan@gmail.com&gt;</a> wrote:
</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>Is it feasible to make "FFI.add_sys_types" available on all platforms
<span class="moz-txt-citetags">&gt; </span>if it's implemented at runtime?
<span class="moz-txt-citetags">&gt;</span>
</pre></blockquote><pre wrap>

You just made me discard my previous message. I was going to ask
exactly the same thing.

I believe these values should be computed at build time and not at
runtime. runtime calculation and shelling out is a hidden requirement
and add complexity to debug it.

Even you put guards to avoid errors, expect bug reports about these
sys types being missing from people not having the development tools
for their platforms at hand.

</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>I'm thinking ideally the ffi gem will come prebuilt, at least for OSX
<span class="moz-txt-citetags">&gt; </span>and Windows, so users might not have Xcode / mingw / Vistual Studio.
<span class="moz-txt-citetags">&gt; </span>To me, the biggest advantage of using ffi is not having to deal with
<span class="moz-txt-citetags">&gt; </span>all the extension building stuff on a per-gem basis.
<span class="moz-txt-citetags">&gt;</span>
</pre></blockquote><pre wrap>

On this field, I'm working on adding an option to rake-compiler to use
and abuse of RVM and Pik to build fat binaries on all the platforms,
for anyone that cares.

Cheers,
<div class="moz-txt-sig">-- 
Luis Lavena
AREA 17
-
Perfection in design is achieved not when there is nothing more to add,
but rather when there is nothing more to take away.
Antoine de Saint-Exup√©ry
</div></pre></div></body>
</html>
</table></div>