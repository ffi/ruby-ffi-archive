Delivered-To: headius@headius.com
Received: by 10.223.72.197 with SMTP id n5cs357254faj;
        Wed, 1 Dec 2010 09:38:52 -0800 (PST)
Received: by 10.142.164.4 with SMTP id m4mr9169049wfe.184.1291225131471;
        Wed, 01 Dec 2010 09:38:51 -0800 (PST)
Return-Path: <ruby-ffi+bncCLeTq4HQChCpkNrnBBoEsVAaoQ@googlegroups.com>
Received: from mail-qy0-f190.google.com (mail-qy0-f190.google.com [209.85.216.190])
        by mx.google.com with ESMTPS id r16si438253qcs.192.2010.12.01.09.38.50
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 01 Dec 2010 09:38:50 -0800 (PST)
Received-SPF: pass (google.com: domain of ruby-ffi+bncCLeTq4HQChCpkNrnBBoEsVAaoQ@googlegroups.com designates 209.85.216.190 as permitted sender) client-ip=209.85.216.190;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of ruby-ffi+bncCLeTq4HQChCpkNrnBBoEsVAaoQ@googlegroups.com designates 209.85.216.190 as permitted sender) smtp.mail=ruby-ffi+bncCLeTq4HQChCpkNrnBBoEsVAaoQ@googlegroups.com; dkim=pass (test mode) header.i=@googlegroups.com
Received: by qyk12 with SMTP id 12sf16566401qyk.7
        for <headius@headius.com>; Wed, 01 Dec 2010 09:38:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=beta;
        h=domainkey-signature:received:x-beenthere:received:received:received
         :received:received-spf:received:received:received:date:from:to
         :subject:message-id:in-reply-to:references:x-mailer:mime-version
         :x-original-sender:x-original-authentication-results:reply-to
         :precedence:mailing-list:list-id:list-post:list-help:list-archive
         :sender:list-subscribe:list-unsubscribe:content-type
         :content-transfer-encoding;
        bh=DID9KKyr1wd29dx/hrPPtkTbgdUUDt8wHqAAtY79sik=;
        b=DobvnSldWT+96/U22ov6WVMkQJbqjlIviMfunND3yu3EI9kvNmVXOOS5pivOUOe7RP
         6kbw+CKG5bF2OB1dljPD7G4JqnBLjHs8FypzMC8J3tq4smYipddlIVPrajod8Kj4EFog
         ikUGpxzKZLPZG6kGbusQJd4OEcumqWFymR2oc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlegroups.com; s=beta;
        h=x-beenthere:received-spf:date:from:to:subject:message-id
         :in-reply-to:references:x-mailer:mime-version:x-original-sender
         :x-original-authentication-results:reply-to:precedence:mailing-list
         :list-id:list-post:list-help:list-archive:sender:list-subscribe
         :list-unsubscribe:content-type:content-transfer-encoding;
        b=wYF4ZyYNgFm2CDmKZ1tYZguS0ZUfYRmM1QQTrVtonZY4PipoGj0Shl9PMvcknwN/N6
         0ca1WYYtYDIEH3Z4bjmxd4kK5AHXWsnCR663PbUvtPzIRyq4OzKDqB0rE850QRdko29A
         lOtf4hYTcT8E9Zkk4cgkAQXR5D0HQguxLzb2E=
Received: by 10.229.2.69 with SMTP id 5mr921088qci.9.1291225129506;
        Wed, 01 Dec 2010 09:38:49 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.229.69.77 with SMTP id y13ls2568017qci.3.p; Wed, 01 Dec 2010
 09:38:49 -0800 (PST)
Received: by 10.229.74.193 with SMTP id v1mr1035089qcj.1.1291225128877;
        Wed, 01 Dec 2010 09:38:48 -0800 (PST)
Received: by 10.229.74.193 with SMTP id v1mr1035088qcj.1.1291225128828;
        Wed, 01 Dec 2010 09:38:48 -0800 (PST)
Received: from mail-qw0-f54.google.com (mail-qw0-f54.google.com [209.85.216.54])
        by gmr-mx.google.com with ESMTP id t18si51959qcs.8.2010.12.01.09.38.47;
        Wed, 01 Dec 2010 09:38:47 -0800 (PST)
Received-SPF: pass (google.com: domain of jon.forums@gmail.com designates 209.85.216.54 as permitted sender) client-ip=209.85.216.54;
Received: by mail-qw0-f54.google.com with SMTP id 9so1912700qwj.41
        for <ruby-ffi@googlegroups.com>; Wed, 01 Dec 2010 09:38:47 -0800 (PST)
Received: by 10.224.28.68 with SMTP id l4mr3793354qac.38.1291225127727;
        Wed, 01 Dec 2010 09:38:47 -0800 (PST)
Received: from Red (rrcs-98-102-103-102.central.biz.rr.com [98.102.103.102])
        by mx.google.com with ESMTPS id s34sm135655qcp.44.2010.12.01.09.38.45
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 01 Dec 2010 09:38:46 -0800 (PST)
Date: Wed, 1 Dec 2010 12:38:46 -0500
From: Jon <jon.forums@gmail.com>
To: ruby-ffi@googlegroups.com
Subject: Re: [ruby-ffi] New release of FFI gem
Message-Id: <20101201123846.5c4724b5.jon.forums@gmail.com>
In-Reply-To: <AANLkTimTnQnD=UnLOwPVRMN_Qxhen-yKZQ1iGaXFG9Re@mail.gmail.com>
References: <adfecd20-4ed8-47cc-8727-1a0ddb5cc8b3@37g2000prx.googlegroups.com>
	<20101130105256.d687602f.jon.forums@gmail.com>
	<AANLkTimTnQnD=UnLOwPVRMN_Qxhen-yKZQ1iGaXFG9Re@mail.gmail.com>
X-Mailer: Sylpheed 3.0.3 (GTK+ 2.10.14; i686-pc-mingw32)
Mime-Version: 1.0
X-Original-Sender: jon.forums@gmail.com
X-Original-Authentication-Results: gmr-mx.google.com; spf=pass (google.com:
 domain of jon.forums@gmail.com designates 209.85.216.54 as permitted sender)
 smtp.mail=jon.forums@gmail.com; dkim=pass (test mode) header.i=@gmail.com
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=en_US>, <mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=en_US>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=en_US>
Sender: ruby-ffi@googlegroups.com
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>, <mailto:ruby-ffi+subscribe@googlegroups.com>
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>,
 <mailto:ruby-ffi+unsubscribe@googlegroups.com>
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

> > Are you planning to provide (but not officially support) 1.0.0 x86-mingw32 binary (1.9-only or fat?) gems or are you also looking for build patches for this?
> 
> Looking at the stats, a not in-significant number of people install
> the mingw32 binary packages, so it looks like I will upload a binary
> for that.  Before I do that, I'll need someone else to at least run
> the specs against a rake-compiler built mingw32 version, to make sure
> it actually ... works.  That will require someone to fix the
> async-callback stuff in Function.c to work on win32.  (I'm assuming it
> doesn't even compile at all at the moment).

Understood and I think your darwinistic focus is a good choice. If the mingw32 (fat or otherwise) binary is truly valued, patches should eventually flow, right? ;)

I see what you mean re: Function.c.  Doing a "gem install ffi --platform=ruby" using DevKit on 1.9.3dev errors out on 'async_cb_{mutex,cond,call,wait}' and then 'struct gvl_callback'.  I want to look into it.

As your focus appears to be 1.9.2+, are you thinking that future mingw32 binary gems will _not_ be fat?

FWIW, I think as long as FFI can be built/installed on Windows using the DevKit, the fat gem is a nice-to-have if it can't be supported. There's only so much one person has time to do.

Jon
---
http://jonforums.github.com/
