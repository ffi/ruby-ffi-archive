<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] attach_function a bit draconian</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] attach_function a bit draconian</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Colby Gutierrez-Kraybill <colbygk@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>9/5/11 2:52 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-html"  lang="x-western"><html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><br><div><div>On Sep 5, 2011, at 12:45 PM, Colby Gutierrez-Kraybill wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div><br>On Sep 5, 2011, at 12:10 AM, Matijs van Zuijlen wrote:<br><br><blockquote type="cite">Hi Charlie,<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">On 04/09/2011 23:19, cfis wrote:<br></blockquote><blockquote type="cite"><blockquote type="cite">I've written a ffi wrapper for the free image library, which is here:<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><a href="http://cfis.github.com/free-image-ruby/">http://cfis.github.com/free-image-ruby/</a><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">The problem is that I've coded against the latest version of<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">FreeImage, and most linux distributions have older versions<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">installed. &nbsp;Thus when I try to load the gem it fails since<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">attach_function throws an error because the older versions don't have<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">all the functions.<br></blockquote></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">You can just wrap the call to attach_function in a begin-rescue-end construct. Then in the rescue block, you can do whatever you want. In your case, this would probably mean issuing a warning and then defining a stub function. You can even wrap that in a method, say, attach_function_safely.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Regards,<br></blockquote><blockquote type="cite">Matijs<br></blockquote><br>this++<br><br>I had a need to create convenience aliases for GSL routines and I created a new method that wrapped around attach_function as well as a side-along override of method_missing:<br><br>By using method_missing, you could capture any calls that a developer expects to be in the library (a more current one) and do exactly what you need doing.<br><br>See:<br><br>attach_gsl_function,<br><a href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD">http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD</a><br><br></div></blockquote><div><br></div><div>OH, and,</div><div><br></div></div>There's a lot of extra cruft in the attach_gsl_function that creates both ruby and C based tests so that the C code can be compiled and the results tested against the output of the FFI wrapper around GSL calls. &nbsp;I wanted to avoid having to write those tests by hand. &nbsp;Hope this helps.<div><br><div>The bit to pay attention to is:</div><div><br></div><div><span class="Apple-style-span" style="font-family: monospace; font-size: small; "><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l129" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l129" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 129</a> &nbsp;&nbsp;&nbsp;&nbsp;module&nbsp;AutoPrefix&nbsp;</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l130" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l130" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 130</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l131" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l131" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 131</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$prefixLock&nbsp;=&nbsp;Monitor.new</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l132" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l132" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 132</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l133" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l133" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 133</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;traps&nbsp;method&nbsp;calls&nbsp;intended&nbsp;to&nbsp;create&nbsp;shortened&nbsp;versions</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l134" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l134" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 134</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;of&nbsp;the&nbsp;GSL&nbsp;function&nbsp;calls.</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l135" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l135" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 135</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l136" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l136" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 136</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;first&nbsp;checks&nbsp;if&nbsp;the&nbsp;called&nbsp;method&nbsp;matches&nbsp;the&nbsp;Module</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l137" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l137" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 137</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;function&nbsp;call&nbsp;gsl_complex_#{called_method}&nbsp;(where&nbsp;called_method</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l138" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l138" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 138</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;might&nbsp;be&nbsp;'abs').</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l139" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l139" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 139</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l140" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l140" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 140</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;it&nbsp;finds&nbsp;a&nbsp;match&nbsp;(respond_to),&nbsp;it&nbsp;will&nbsp;then&nbsp;create&nbsp;a&nbsp;new</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l141" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l141" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 141</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;method&nbsp;for&nbsp;the&nbsp;class&nbsp;as&nbsp;a&nbsp;whole&nbsp;(class_eval),&nbsp;making&nbsp;the&nbsp;method</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l142" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l142" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 142</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;available&nbsp;to&nbsp;not&nbsp;just&nbsp;this&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;but&nbsp;all</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l143" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l143" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 143</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;existing&nbsp;instances&nbsp;and&nbsp;all&nbsp;those&nbsp;created&nbsp;after.</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l144" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l144" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 144</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l145" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l145" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 145</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Finally,&nbsp;the&nbsp;creation&nbsp;is&nbsp;wrapped&nbsp;up&nbsp;in&nbsp;a&nbsp;synchronized&nbsp;call</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l146" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l146" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 146</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;to&nbsp;ensure&nbsp;thread&nbsp;safety.&nbsp;&nbsp;It&nbsp;is&nbsp;only&nbsp;unsafe&nbsp;the&nbsp;first&nbsp;time</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l147" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l147" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 147</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;method&nbsp;is&nbsp;invoked&nbsp;(and&nbsp;non-existent&nbsp;at&nbsp;that&nbsp;point).&nbsp;&nbsp;Every</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l148" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l148" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 148</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;time&nbsp;the&nbsp;method&nbsp;is&nbsp;invoked&nbsp;after,&nbsp;it&nbsp;should&nbsp;not&nbsp;hit&nbsp;method_missing.</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l149" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l149" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 149</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;TODO:&nbsp;Is&nbsp;this&nbsp;true&nbsp;for&nbsp;java&nbsp;threads&nbsp;too,&nbsp;or&nbsp;is&nbsp;it&nbsp;per&nbsp;'vm'&nbsp;per</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l150" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l150" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 150</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;thread?</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l151" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l151" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 151</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;method_missing(&nbsp;called_method,&nbsp;*args,&nbsp;&amp;block&nbsp;)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l152" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l152" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 152</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l153" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l153" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 153</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$prefixLock.synchronize&nbsp;do</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l154" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l154" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 154</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l155" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l155" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 155</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix&nbsp;=&nbsp;self.class::GSL_PREFIX</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l156" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l156" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 156</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l157" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l157" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 157</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;self.class::GSL_MODULE::Methods.respond_to?("#{prefix}#{called_method}")&nbsp;==&nbsp;false&nbsp;)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l158" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l158" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 158</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix&nbsp;=&nbsp;""</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l159" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l159" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 159</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;self.class::GSL_MODULE::Methods.respond_to?("#{called_method}")&nbsp;==&nbsp;false&nbsp;)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l160" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l160" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 160</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super&nbsp;#&nbsp;NoMethodError</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l161" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l161" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 161</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l162" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l162" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 162</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l163" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l163" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 163</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l164" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l164" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 164</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;TODO:&nbsp;this&nbsp;could&nbsp;be&nbsp;smoothed&nbsp;out&nbsp;with&nbsp;the&nbsp;#args/#parameters&nbsp;parts&nbsp;of</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l165" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l165" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 165</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Ruby&nbsp;1.9.</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l166" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l166" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 166</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;could&nbsp;inspect&nbsp;the&nbsp;definition&nbsp;of&nbsp;the&nbsp;parameter&nbsp;and&nbsp;if&nbsp;the</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l167" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l167" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 167</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;first&nbsp;argument&nbsp;in&nbsp;the&nbsp;definition&nbsp;were&nbsp;of&nbsp;the&nbsp;same&nbsp;type&nbsp;as&nbsp;self</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l168" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l168" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 168</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;then&nbsp;self&nbsp;could&nbsp;be&nbsp;inserted&nbsp;into&nbsp;the&nbsp;args&nbsp;list&nbsp;per&nbsp;below</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l169" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l169" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 169</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;rather&nbsp;than&nbsp;requiring&nbsp;the&nbsp;#{called_method.to_s.upcase}_ADD_SELF</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l170" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l170" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 170</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;boolean&nbsp;definition&nbsp;and&nbsp;check</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l171" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l171" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 171</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.class.class_eval&nbsp;&lt;&lt;-end_eval</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l172" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l172" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 172</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;#{called_method}(*args,&nbsp;&amp;block)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l173" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l173" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 173</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;::#{self.class::GSL_MODULE.to_s}::Methods::#{prefix.to_s.upcase}#{called_method.to_s.upcase}_ADD_SELF&nbsp;</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l174" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l174" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 174</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args.insert(0,&nbsp;self)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l175" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l175" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 175</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l176" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l176" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 176</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#{self.class::GSL_MODULE.to_s}::Methods::#{prefix}#{called_method}(&nbsp;*args,&nbsp;&amp;block&nbsp;)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l177" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l177" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 177</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l178" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l178" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 178</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end_eval</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l179" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l179" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 179</a> </div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l180" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l180" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 180</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__send__(called_method,&nbsp;*args,&nbsp;&amp;block)</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l181" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l181" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 181</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;#&nbsp;prefixLock.synchronize</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l182" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l182" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 182</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;#&nbsp;method_missing</div><div class="pre" style="font-family: monospace; font-size: 12px; white-space: pre; "><a id="l183" href="http://gsl4r.rubyforge.org/git?p=gsl4r.git;a=blob;f=lib/gsl4r/util.rb;h=3c2ce22ac866b5053b8fed7a34058e299950eae5;hb=HEAD#l183" class="linenr" style="color: rgb(153, 153, 153); text-decoration: none; "> 183</a> &nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;#&nbsp;AutoPrefix</div><div><br></div></span></div></div></body></html>
</div></body>
</html>
</table></div>