<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] char <= 256?</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] char &lt;= 256?</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Wayne Meissner <wmeissner@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>7/13/10 7:04 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
File an issue for it.  I was going to remove the checks on integers
and just silently slice them to the appropriate size, but haven't
gotten around to doing so.

You could also work around that one by changing the parameter type for
that function to :uchar (or :ushort, :uint, :ulong - they all get
passed the same on win32).



On 14 July 2010 09:50, rogerdpack <a class="moz-txt-link-rfc2396E" href="mailto:rogerpack2005@gmail.com">&lt;rogerpack2005@gmail.com&gt;</a> wrote:
</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt; </span>Hi all.  Got this recently.
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>C:\dev\ruby\universal-scene-skipper\lib&gt;ruby mute.rb
<span class="moz-txt-citetags">&gt; </span>mute.rb:32:in `keybd_event': Value 173 outside char range (RangeError)
<span class="moz-txt-citetags">&gt; </span>       from mute.rb:32:in `&lt;module:Win&gt;'
<span class="moz-txt-citetags">&gt; </span>       from mute.rb:19:in `&lt;main&gt;'
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>a bit surprising, since char types in C are quite happy to accept such
<span class="moz-txt-citetags">&gt; </span>numbers.  So is this a bug because of such? It appears that's it's
<span class="moz-txt-citetags">&gt; </span>ambiguous [1] so could go either way.
<span class="moz-txt-citetags">&gt; </span>Thanks!
<span class="moz-txt-citetags">&gt; </span>-r
<span class="moz-txt-citetags">&gt; </span>[1] <a class="moz-txt-link-freetext" href="http://en.wikipedia.org/wiki/C_syntax#Primitive_data_types">http://en.wikipedia.org/wiki/C_syntax#Primitive_data_types</a>
</pre></div></body>
</html>
</table></div>