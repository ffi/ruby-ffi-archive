<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Re: [ruby-ffi] New release of FFI gem</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>Re: [ruby-ffi] New release of FFI gem</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Charles Oliver Nutter <headius@headius.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>12/22/10 1:16 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-unicode"><pre wrap>
On Fri, Dec 3, 2010 at 4:57 AM, Wayne Meissner <a class="moz-txt-link-rfc2396E" href="mailto:wmeissner@gmail.com">&lt;wmeissner@gmail.com&gt;</a> wrote:
</pre><blockquote type=cite style="color: #000000;"><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt;&gt; </span>If FFI is aiming 1.9.2 or bigger, then the rubygem spec needs to be
<span class="moz-txt-citetags">&gt;&gt; </span>tweaked to reflect that. I'm not against of ditching 1.8.x support,
<span class="moz-txt-citetags">&gt;&gt; </span>but just want to reduce painful support issues for users still using
<span class="moz-txt-citetags">&gt;&gt; </span>1.8.x
</pre></blockquote><pre wrap>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>Agreed, and I just pushed a change the restricts it to &gt;= 1.9.2
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>I'm not against it still working on 1.8.7 - I'm just against:
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>a) doing the work to make it work, and
<span class="moz-txt-citetags">&gt; </span>b) dealing with issues when people try to run code that either
<span class="moz-txt-citetags">&gt; </span>requires blocking threads, or non-ruby threads calling back into ruby.
</pre></blockquote><pre wrap>

I think it's premature to drop 1.8.7 support. The majority of Ruby
users are still on 1.8.7, and that's not changing rapidly. There's
also people with production apps and released libraries that depend on
FFI.

I think we need to find a way to get support back in there ASAP.
Perhaps that means we need to actively find someone to help Wayne
maintain the FFI gem (or take over 1.8 support completely). If we
don't have FFI for 1.8.7, it becomes substantially less useful as a
cross-impl replacement for extensions.

I appreciate the issues with blocking threads, but I think that's a
peril for any C extension on 1.8.7. In other words...we punt, since
there's no solution, and recommend people consider blocking calls when
using libraries through FFI.

Wayne: Can you summarize what's needed to get 1.8.7 support back in the gem?

- Charlie
</pre></div></body>
</html>
</table></div>