<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>[ruby-ffi] Using enums in InlineArray</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>[ruby-ffi] Using enums in InlineArray</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>edek <edek123456@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>12/6/10 10:52 AM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi <ruby-ffi@googlegroups.com></td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
Hi,

in my project I've got complex structure, that contains an array of
enums.

So I define named enum type and pass it to my struct layout.

This structure is referenced in another structure.

When I read my structure, FFI automatically creates object of type
FFI::Struct::InlineArray.

Unfortunately, when I try to read its contents I got following error:
`each': get not supported for FFI::Enum (ArgumentError)

It works well when I switch type to :uint32 - I can read integers.

Is there any way to use enums in this place? That would be obviously
much more ellegant. If it is not supported yet, could you give me any
advice where I can extend FFI's functionality in this matter?

Thank you,

Marcin
</pre></div></body>
</html>
</table></div>