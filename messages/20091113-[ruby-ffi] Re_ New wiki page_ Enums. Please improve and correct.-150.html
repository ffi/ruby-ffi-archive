<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>[ruby-ffi] Re: New wiki page: Enums. Please improve and correct.</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>[ruby-ffi] Re: New wiki page: Enums. Please improve and correct.</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Wayne Meissner <wmeissner@gmail.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>11/13/09 10:53 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi@googlegroups.com</td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>

Excellent work!

I wouldn't call the first example (using constants), "BAD EXAMPLE",
since its still a valid way to do integer constants.  Its just not as
nice as the enum way.

btw, there are a couple of other ways to declare enums

1) Use typedef
  typedef enum(:a, :b, :c), :my_enum

That is the equivalent of enum :my_enum, [ :a, :b, :c ]

2) Assign the new Enum type to a constant
  MyEnum = enum(:a, :b, :c)


Not sure if those add any value, or would just clutter up the page
though.  Probably best left out, and in the realms of "if you really
need it, you can do it".

The second form however, is needed if you intend to use an enum as a
Struct field type, for the same reason you need to do that for e.g.
callbacks.  i.e. lexical scoping rules.

2009/11/14 John Croisant <a class="moz-txt-link-rfc2396E" href="mailto:jacius@gmail.com">&lt;jacius@gmail.com&gt;</a>:
</pre><blockquote type=cite style="color: #000000;"><pre wrap>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>I've added a new page on the wiki, with information about using enums
<span class="moz-txt-citetags">&gt; </span>in FFI. This is mostly from my own investigations into the source code
<span class="moz-txt-citetags">&gt; </span>several months ago, but I'm not sure it's accurate, complete, or up to
<span class="moz-txt-citetags">&gt; </span>date. I'd love to have an FFI maintainer or expert check to make sure
<span class="moz-txt-citetags">&gt; </span>it's right, and maybe even add some more info. <span class="moz-smiley-s1" title=":-)"><span>:-)</span></span>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>Â <a class="moz-txt-link-freetext" href="http://wiki.github.com/ffi/ffi/enums">http://wiki.github.com/ffi/ffi/enums</a>
<span class="moz-txt-citetags">&gt;</span>
<span class="moz-txt-citetags">&gt; </span>- John
<span class="moz-txt-citetags">&gt;</span>
</pre></div></body>
</html>
</table></div>