Delivered-To: headius@headius.com
Received: by 10.100.5.7 with SMTP id 7cs57323ane;
        Sun, 31 Jan 2010 23:57:33 -0800 (PST)
Received: by 10.91.19.27 with SMTP id w27mr3430415agi.118.1265011053065;
        Sun, 31 Jan 2010 23:57:33 -0800 (PST)
Return-Path: <3aolmSwcJCKUGQFcYJWLRFNQ.HTRWZGd-KKNLTTLQJLWTZUX.HTR@groups.bounces.google.com>
Received: from mail-gx0-f185.google.com (mail-gx0-f185.google.com [209.85.217.185])
        by mx.google.com with ESMTP id 10si11589103gxk.40.2010.01.31.23.57.31;
        Sun, 31 Jan 2010 23:57:31 -0800 (PST)
Received-SPF: pass (google.com: domain of 3aolmSwcJCKUGQFcYJWLRFNQ.HTRWZGd-KKNLTTLQJLWTZUX.HTR@groups.bounces.google.com designates 209.85.217.185 as permitted sender) client-ip=209.85.217.185;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of 3aolmSwcJCKUGQFcYJWLRFNQ.HTRWZGd-KKNLTTLQJLWTZUX.HTR@groups.bounces.google.com designates 209.85.217.185 as permitted sender) smtp.mail=3aolmSwcJCKUGQFcYJWLRFNQ.HTRWZGd-KKNLTTLQJLWTZUX.HTR@groups.bounces.google.com; dkim=pass (test mode) header.i=@googlegroups.com
Received: by gxk1 with SMTP id 1sf10498606gxk.15
        for <headius@headius.com>; Sun, 31 Jan 2010 23:57:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=beta;
        h=domainkey-signature:received:x-beenthere:received:received:received
         :received:received-spf:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to
         :x-original-authentication-results:x-original-sender:reply-to
         :precedence:mailing-list:list-id:list-post:list-help:list-archive
         :x-thread-url:x-message-url:sender:list-subscribe:list-unsubscribe
         :content-type:content-transfer-encoding;
        bh=lmF7rTbc/KX0vCKVXGW0vKcJAeSK1QvG1c/mvfr8Xy8=;
        b=y1WV5OtTg0mo+zlrdEIM8dwVZNKOZxYotHQYIHQS3jnt7IAOQHj5TKiO4PqcEMx+o3
         WYwJKrePqzYW+I5yd+bj20d4Ac5jPy+yJ6L8swMZLVoWQCt/FNIMDG82t8sh84TmLp9A
         n9O3ikiLKllRsmrB3d5qYX+WSAKacR8Vu2Zyw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlegroups.com; s=beta;
        h=x-beenthere:received-spf:mime-version:in-reply-to:references:from
         :date:message-id:subject:to:x-original-authentication-results
         :x-original-sender:reply-to:precedence:mailing-list:list-id
         :list-post:list-help:list-archive:x-thread-url:x-message-url:sender
         :list-subscribe:list-unsubscribe:content-type
         :content-transfer-encoding;
        b=GdP7nIZPWW+LU8Q8JKIwNeHnun34vffz/iOEX2rewWDMmwUSkV5NHzCw6DUgoCsRp7
         zBplefa62NRxI7XoA9gzQSNy5YY61qk8R9vXpjqpdaUszejLCF7iO/iVsEeGLXZQeAN9
         k827izsNBPx68ZVgjE96dXLBij7QWeq/pfFO8=
Received: by 10.101.5.7 with SMTP id h7mr293601ani.44.1265011050411;
        Sun, 31 Jan 2010 23:57:30 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.213.2.77 with SMTP id 13ls1962843ebi.0.p; Sun, 31 Jan 2010 
	23:57:29 -0800 (PST)
Received: by 10.213.109.143 with SMTP id j15mr562491ebp.26.1265011049357;
        Sun, 31 Jan 2010 23:57:29 -0800 (PST)
Received: by 10.213.109.143 with SMTP id j15mr562490ebp.26.1265011049339;
        Sun, 31 Jan 2010 23:57:29 -0800 (PST)
Return-Path: <blaxter@gmail.com>
Received: from mail-ew0-f224.google.com (mail-ew0-f224.google.com [209.85.219.224])
        by gmr-mx.google.com with ESMTP id 11si708895ewy.13.2010.01.31.23.57.28;
        Sun, 31 Jan 2010 23:57:28 -0800 (PST)
Received-SPF: pass (google.com: domain of blaxter@gmail.com designates 209.85.219.224 as permitted sender) client-ip=209.85.219.224;
Received: by mail-ew0-f224.google.com with SMTP id 24so785737ewy.36
        for <ruby-ffi@googlegroups.com>; Sun, 31 Jan 2010 23:57:28 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.88.85 with SMTP id z63mr2837801wee.129.1265011048119; Sun, 
	31 Jan 2010 23:57:28 -0800 (PST)
In-Reply-To: <4ccee321001311633n59f06a41r26b76aa1316e3035@mail.gmail.com>
References: <d327fb93-c314-4b61-9951-520f8f8ac4b6@r19g2000yqb.googlegroups.com> 
	<4ccee321001311633n59f06a41r26b76aa1316e3035@mail.gmail.com>
From: =?ISO-8859-1?Q?Jes=FAs_Garc=EDa_S=E1ez?= <blaxter@gmail.com>
Date: Mon, 1 Feb 2010 08:57:08 +0100
Message-ID: <1a2dd4711001312357j7fdb202akf79d5e7357612f2a@mail.gmail.com>
Subject: Re: [ruby-ffi] A really simple example: Segmentation fault
To: ruby-ffi@googlegroups.com
X-Original-Authentication-Results: gmr-mx.google.com; spf=pass (google.com: 
	domain of blaxter@gmail.com designates 209.85.219.224 as permitted sender) 
	smtp.mail=blaxter@gmail.com; dkim=pass (test mode) header.i=@gmail.com
X-Original-Sender: blaxter@gmail.com
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=en_US>, 
	<mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=en_US>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=en_US>
X-Thread-Url: http://groups.google.com/group/ruby-ffi/t/925dbf9549207f4d
X-Message-Url: http://groups.google.com/group/ruby-ffi/msg/bbeebf5ebfb4b165
Sender: ruby-ffi@googlegroups.com
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>, 
	<mailto:ruby-ffi+subscribe@googlegroups.com>
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>, 
	<mailto:ruby-ffi+unsubscribe@googlegroups.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Mon, Feb 1, 2010 at 01:33, Wayne Meissner <wmeissner@gmail.com> wrote:
> On 1 February 2010 05:39, Jes=FAs GS <blaxter@gmail.com> wrote:
>> $ more example.rb
>> require 'rubygems'
>> require 'ffi'
>
>> extend FFI::Library
>> ffi_lib './libsample.so'
>> attach_function :foo, :foo, [:int], :int
>
>
> You need to enclose the above in a module.
> e.g.
> module LibSample
> =A0extend FFI::Library
> =A0fi_lib './libsample.so'
> =A0attach_function :foo, :foo, [:int], :int
> end
>
> And call it as
> LibSample.foo(1)
>

That's right, thank you so much Wayne :)
