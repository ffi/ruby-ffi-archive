X-Mozilla-Keys: notjunk $notjunk
Delivered-To: headius@headius.com
Received: by 10.112.81.161 with SMTP id b1csp532665lby;
        Wed, 14 Nov 2012 13:24:33 -0800 (PST)
Received: by 10.101.180.1 with SMTP id h1mr7746193anp.25.1352928272476;
        Wed, 14 Nov 2012 13:24:32 -0800 (PST)
Return-Path: <ruby-ffi+bncBD2LPGVBRIEBBDUYSCCQKGQE5TQREUA@googlegroups.com>
Received: from mail-ye0-f192.google.com (mail-ye0-f192.google.com [209.85.213.192])
        by mx.google.com with ESMTPS id d24si5405083ano.83.2012.11.14.13.24.31
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 14 Nov 2012 13:24:32 -0800 (PST)
Received-SPF: pass (google.com: domain of ruby-ffi+bncBD2LPGVBRIEBBDUYSCCQKGQE5TQREUA@googlegroups.com designates 209.85.213.192 as permitted sender)
Authentication-Results: mx.google.com; spf=pass (google.com: domain of ruby-ffi+bncBD2LPGVBRIEBBDUYSCCQKGQE5TQREUA@googlegroups.com designates 209.85.213.192 as permitted sender) smtp.mail=ruby-ffi+bncBD2LPGVBRIEBBDUYSCCQKGQE5TQREUA@googlegroups.com; dkim=pass header.i=@googlegroups.com
Received: by mail-ye0-f192.google.com with SMTP id q11sf697505yen.19
        for <headius@headius.com>; Wed, 14 Nov 2012 13:24:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=20120806;
        h=x-beenthere:date:from:to:message-id:in-reply-to:references:subject
         :mime-version:x-original-sender:reply-to:precedence:mailing-list
         :list-id:x-google-group-id:list-post:list-help:list-archive:sender
         :list-subscribe:list-unsubscribe:content-type;
        bh=a3TKigrUc66lPO5P/k8wj6JHJ+pk+Fzi0MDcVlc21wM=;
        b=B3ZHOEhfyBib14WpNoCX/K/7XyWUg4XJws/SmsqtVmo6Whp6cMBHOdmQNsStgsNwuO
         eZLZeesFF7tKh/vqLi+H1sETDN0SArDKuqAMPVWNbfcnJEmjvcttjj1NosAEcNOndME3
         qYuDUV/HOd2etjaqLo7NJ3L4M8QXMJUuwYqaePRGlzbOTemEuIkurfk44Uuw62PcT/h9
         dYWg89NOOKZQZYRie8oXkoE5arR9t6LPloPqU8K5KtnfG1WxkYhAGIW51+TOV4wM+UbS
         GOEJJtBCYN14lX0NVpZxurDpesbJMiO6REa8sqkowzf2JtHCvRSY3iwqWIbYCmNet7Cl
         BpiA==
Received: by 10.68.132.170 with SMTP id ov10mr203003pbb.12.1352928271686;
        Wed, 14 Nov 2012 13:24:31 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.68.254.169 with SMTP id aj9ls4013376pbd.0.gmail; Wed, 14 Nov
 2012 13:24:30 -0800 (PST)
Received: by 10.68.212.72 with SMTP id ni8mr5873829pbc.14.1352928270125;
        Wed, 14 Nov 2012 13:24:30 -0800 (PST)
Date: Wed, 14 Nov 2012 13:24:29 -0800 (PST)
From: Wayne Meissner <wmeissner@gmail.com>
To: ruby-ffi@googlegroups.com
Message-Id: <39b46a99-c1b4-477e-92ea-fc1a1417552a@googlegroups.com>
In-Reply-To: <20121113231711.59b543ca9e6a6510786ca3de@gmail.com>
References: <ded4dedd-a8fc-42da-a5d1-7ce046e56d00@googlegroups.com>
 <20121113231711.59b543ca9e6a6510786ca3de@gmail.com>
Subject: Re: [ruby-ffi] 1.2.0.pre6 testing
MIME-Version: 1.0
X-Original-Sender: wmeissner@gmail.com
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
X-Google-Group-Id: 238405446264
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=en_US>, <mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=en_US>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=en_US>
Sender: ruby-ffi@googlegroups.com
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>, <mailto:ruby-ffi+subscribe@googlegroups.com>
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=en_US>,
 <mailto:googlegroups-manage+238405446264+unsubscribe@googlegroups.com>
Content-Type: multipart/alternative; 
	boundary="----=_Part_68_13092893.1352928269677"

------=_Part_68_13092893.1352928269677
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit



On Wednesday, 14 November 2012 15:17:19 UTC+11, Jon wrote:
>
>
> While I never install ffi this way, jruby+bundler on Win7 32bit with JRuby 
> 1.7.0 ended up in Wile E. flames trying to build the C ext due to my 
> scheming: 
>
> C:\Users\Jon\Downloads\temp\ffi-java>type Gemfile 
> source :rubygems 
> gem 'ffi', '1.2.0.pre6', :platforms => :jruby 
>
> C:\Users\Jon\Downloads\temp\ffi-java>bundle install 
> Fetching gem metadata from http://rubygems.org/........... 
> Fetching gem metadata from http://rubygems.org/.. 
> Installing ffi (1.2.0.pre6) with native extensions 
> Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native 
> extension. 

 
Hmm.  When installing on something that is not MRI, extconf.rb generates a 
dummy Makefile.  I suspect on win32, the dummy Makefile isn't quite 
correct.  Can you investigate this one a bit more (look right at the bottom 
of ext/ext_c/extconf.rb)?  It could be something as simple as \r\n vs \n 
line termination.

I can continue to publish the ffi-java gem, but, I want to get rid of it in 
the long term.


------=_Part_68_13092893.1352928269677
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 7bit

<br><br>On Wednesday, 14 November 2012 15:17:19 UTC+11, Jon  wrote:<blockquote class="gmail_quote" style="margin: 0;margin-left: 0.8ex;border-left: 1px #ccc solid;padding-left: 1ex;"><br>While I never install ffi this way, jruby+bundler on Win7 32bit with JRuby 1.7.0 ended up in Wile E. flames trying to build the C ext due to my scheming:
<br>
<br>C:\Users\Jon\Downloads\temp\<wbr>ffi-java&gt;type Gemfile
<br>source :rubygems
<br>gem 'ffi', '1.2.0.pre6', :platforms =&gt; :jruby
<br>
<br>C:\Users\Jon\Downloads\temp\<wbr>ffi-java&gt;bundle install
<br>Fetching gem metadata from <a href="http://rubygems.org/........." target="_blank">http://rubygems.org/.........</a>.<wbr>.
<br>Fetching gem metadata from <a href="http://rubygems.org/" target="_blank">http://rubygems.org/</a>..
<br>Installing ffi (1.2.0.pre6) with native extensions
<br>Gem::Installer::<wbr>ExtensionBuildError: ERROR: Failed to build gem native extension.
</blockquote><div>&nbsp;</div><div>Hmm. &nbsp;When installing on something that is not MRI, extconf.rb generates a dummy Makefile. &nbsp;I suspect on win32, the dummy Makefile isn't quite correct. &nbsp;Can you investigate this one a bit more (look right at the bottom of ext/ext_c/extconf.rb)? &nbsp;It could be something as simple as \r\n vs \n line termination.</div><div><br></div><div>I can continue to publish the ffi-java gem, but, I want to get rid of it in the long term.</div><div><br></div>
------=_Part_68_13092893.1352928269677--
