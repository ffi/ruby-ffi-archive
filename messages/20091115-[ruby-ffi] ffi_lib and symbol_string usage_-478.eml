Delivered-To: headius@headius.com
Received: by 10.142.217.20 with SMTP id p20cs119436wfg;
        Sun, 15 Nov 2009 13:52:46 -0800 (PST)
Received: by 10.224.17.140 with SMTP id s12mr4350260qaa.203.1258321965774;
        Sun, 15 Nov 2009 13:52:45 -0800 (PST)
Return-Path: <grbounce-oS_-awUAAACicsVXPUFstTOYQmrUJNfw=headius=headius.com@googlegroups.com>
Received: from mail-vw0-f153.google.com (mail-vw0-f153.google.com [209.85.212.153])
        by mx.google.com with ESMTP id 4si10670494qyk.67.2009.11.15.13.52.44;
        Sun, 15 Nov 2009 13:52:44 -0800 (PST)
Received-SPF: pass (google.com: domain of grbounce-oS_-awUAAACicsVXPUFstTOYQmrUJNfw=headius=headius.com@googlegroups.com designates 209.85.212.153 as permitted sender) client-ip=209.85.212.153;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of grbounce-oS_-awUAAACicsVXPUFstTOYQmrUJNfw=headius=headius.com@googlegroups.com designates 209.85.212.153 as permitted sender) smtp.mail=grbounce-oS_-awUAAACicsVXPUFstTOYQmrUJNfw=headius=headius.com@googlegroups.com; dkim=pass (test mode) header.i=@googlegroups.com
Received: by vws17 with SMTP id 17so2515459vws.13
        for <headius@headius.com>; Sun, 15 Nov 2009 13:52:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=beta;
        h=domainkey-signature:received:received:x-sender:x-apparently-to
         :received:received:received:received-spf:received:dkim-signature
         :domainkey-signature:received:received:date:from:to:subject
         :message-id:x-mailer:mime-version:content-type
         :content-transfer-encoding:reply-to:sender:precedence:x-google-loop
         :mailing-list:list-id:list-post:list-help:list-unsubscribe
         :x-beenthere-env:x-beenthere;
        bh=H9hyHNVqLEiCpKzQ8tckYk7J+B1DhoJn8wCme4DNDO0=;
        b=2SOZl5BFvMNXyKDnm6H3qzlfP/H8qsJ+npD8MayhtSIlcw8/BlO1S9htPHECEgKzQ+
         cmbsLi3i+e7gCZL65iP3/xFGzZ/DVnqY8ziSjgsuraxJSA0d8Yr8lvmre/GDIiChOdo8
         /4UTDpgyh7pYbkHxgPN9esmEWBG66X2Jnfoqk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlegroups.com; s=beta;
        h=x-sender:x-apparently-to:received-spf:authentication-results
         :dkim-signature:domainkey-signature:date:from:to:subject:message-id
         :x-mailer:mime-version:content-type:content-transfer-encoding
         :reply-to:sender:precedence:x-google-loop:mailing-list:list-id
         :list-post:list-help:list-unsubscribe:x-beenthere-env:x-beenthere;
        b=iCIaKsBTA8lW/NE/pcEJXP5I80DJ5nDCzFuxcdVB5gV6hSrU5ewlqAI477kbw0DXQM
         ZG4L0lGfWqjqYT9oNTle7034SVWUWS+ElTeLoQu4TvfPzRDhZrFolwsf8cGJD7InzsD0
         xKBRvJu4IPfOZVV6YnnRyU0nI+2IGxkBNm96A=
Received: by 10.220.89.27 with SMTP id c27mr217573vcm.27.1258321962520;
        Sun, 15 Nov 2009 13:52:42 -0800 (PST)
Received: by 10.230.15.132 with SMTP id k4gr117vba.0;
	Sun, 15 Nov 2009 13:52:42 -0800 (PST)
X-Sender: jon.forums@gmail.com
X-Apparently-To: ruby-ffi@googlegroups.com
Received: by 10.220.78.101 with SMTP id j37mr1218626vck.19.1258321961401; Sun, 15 Nov 2009 13:52:41 -0800 (PST)
Received: by 10.220.78.101 with SMTP id j37mr1218625vck.19.1258321961382; Sun, 15 Nov 2009 13:52:41 -0800 (PST)
Return-Path: <jon.forums@gmail.com>
Received: from qw-out-1920.google.com (qw-out-1920.google.com [74.125.92.148]) by gmr-mx.google.com with ESMTP id 19si440869vws.14.2009.11.15.13.52.40; Sun, 15 Nov 2009 13:52:40 -0800 (PST)
Received-SPF: pass (google.com: domain of jon.forums@gmail.com designates 74.125.92.148 as permitted sender) client-ip=74.125.92.148;
Received: by qw-out-1920.google.com with SMTP id 5so800888qwc.42 for <ruby-ffi@googlegroups.com>; Sun, 15 Nov 2009 13:52:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma; h=domainkey-signature:received:received:date:from:to:subject :message-id:x-mailer:mime-version:content-type :content-transfer-encoding; bh=b7zf3OlAnuXNu56nsuxXN/vyjQOKva0erBEeZA5UKoY=; b=CXAqIBopofXLq6wne6+y0nXTA1avCt6YUzQ9CeK3iJbwKJTO5GzJ6u4ewB6TRbDRMr kZFzZzg+yBlHmxtAiMB55SMU/HFcahGP+PH2TVhO6Qgrk0eZGV94ItGqCvxO30Kgs4dk E/cLwjerVX6qNLQDDeD1AsS2oTeoP0cZiXb8s=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma; h=date:from:to:subject:message-id:x-mailer:mime-version:content-type :content-transfer-encoding; b=c3qsgNJcqNJebXSUuPKsQyv6IGvHosaEk8Cr1LkFUF/cxj6f7y3PKzrhU/FZWGEIEw du24eGrlwtR6uWbnQHILbhw583/FWKNUlRbp7X+yPrBgPtY2Ofc+ZK61y1ujLBAwY/eT XTNIyDC4bJcMPE3mxwv9MHHtF2qKjRGkZkpzg=
Received: by 10.224.24.204 with SMTP id w12mr4353390qab.366.1258321960118; Sun, 15 Nov 2009 13:52:40 -0800 (PST)
Return-Path: <jon.forums@gmail.com>
Received: from SQUEAK (cpe-71-65-104-132.woh.res.rr.com [71.65.104.132]) by mx.google.com with ESMTPS id 20sm1966055qyk.9.2009.11.15.13.52.38 (version=TLSv1/SSLv3 cipher=RC4-MD5); Sun, 15 Nov 2009 13:52:39 -0800 (PST)
Date: Sun, 15 Nov 2009 16:52:40 -0500
From: Jon <jon.forums@gmail.com>
To: ruby-ffi@googlegroups.com
Subject: [ruby-ffi] ffi_lib and symbol/string usage?
Message-Id: <20091115165240.236db197.jon.forums@gmail.com>
X-Mailer: Sylpheed 2.7.1 (GTK+ 2.10.14; i686-pc-mingw32)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Reply-To: ruby-ffi@googlegroups.com
Sender: ruby-ffi@googlegroups.com
Precedence: bulk
X-Google-Loop: groups
Mailing-List: list ruby-ffi@googlegroups.com;
	contact ruby-ffi+owner@googlegroups.com
List-Id: <ruby-ffi.googlegroups.com>
List-Post: <mailto:ruby-ffi@googlegroups.com>
List-Help: <mailto:ruby-ffi+help@googlegroups.com>
List-Unsubscribe: <http://googlegroups.com/group/ruby-ffi/subscribe>,
	<mailto:ruby-ffi+unsubscribe@googlegroups.com>
X-BeenThere-Env: ruby-ffi@googlegroups.com
X-BeenThere: ruby-ffi@googlegroups.com


While doing a quick test of the novice win32 example from http://wiki.github.com/ffi/ffi/windows-examples across jruby and mri 1.8 and 1.9, using

ffi_lib :kernel32

works as expected on 1.9 and fails on 1.8 due to 1.8's "File.basename" used in "map_library_name" on line 61 of

http://github.com/ffi/ffi/blob/master/lib/ffi/ffi.rb

not accepting Symbol's.

I've updated my examples on the wiki to use only String's, but am wondering if FFI core should be agnostic for the ffi_lib arg?

I personally prefer the Symbol style but I don't really have strong feelings other than "keep lib loads fast."

Jon
