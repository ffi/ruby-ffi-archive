<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>[ruby-ffi] Install ffi on Mac OS one a volume name with a space</title>
<link rel="important stylesheet" href="">
<style>div.headerdisplayname {font-weight:bold;}</style></head>
<body>
<table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part1"><tr><td><div class="headerdisplayname" style="display:inline;">Subject: </div>[ruby-ffi] Install ffi on Mac OS one a volume name with a space</td></tr><tr><td><div class="headerdisplayname" style="display:inline;">From: </div>Ross Rankin <Ross@triplingo.com></td></tr><tr><td><div class="headerdisplayname" style="display:inline;">Date: </div>12/15/11 4:40 PM</td></tr></table><table border=0 cellspacing=0 cellpadding=0 width="100%" class="header-part2"><tr><td><div class="headerdisplayname" style="display:inline;">To: </div>ruby-ffi <ruby-ffi@googlegroups.com></td></tr></table><br>
<div class="moz-text-plain" wrap=true graphical-quote=true style="font-family: -moz-fixed; font-size: 12px;" lang="x-western"><pre wrap>
Is there a workaround to this bug?  Issue #87 talks about it but it
looks like no one is responding to comments...  Anyway, I've tried all
kinds of symlinks, parameters, and environment variables and yet its
seems to pull the path <i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Volumes/Macintosh HD<span class="moz-txt-tag">/</span></i> no mater what I do...
I've tried manually installing via ./configure, make, make install
still not love, even editing the build file by hand...  any ideas?
Here's the error I get on bundle install:
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native
extension.

        <i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Users/Ross<span class="moz-txt-tag">/</span></i>.rvm/rubies/ruby-1.9.2-p180/bin/ruby extconf.rb
checking for ffi.h... no
checking for ffi.h in /usr/local/include... no
checking for rb_thread_blocking_region()... yes
checking for ruby_thread_has_gvl_p()... yes
checking for ruby_native_thread_p()... yes
checking for rb_thread_call_with_gvl()... yes
creating extconf.h
creating Makefile

make
Configuring libffi
configure: WARNING: Libtool does not cope well with whitespace in
`pwd`
cd "<i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Volumes/Macintosh HD/Users/Ross<span class="moz-txt-tag">/</span></i>.rvm/gems/ruby-1.9.2-p180@webapp/
gems/ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/libffi" &amp;&amp; make
make "AR_FLAGS=" "CC_FOR_BUILD=" "CFLAGS=" "CXXFLAGS="
"CFLAGS_FOR_BUILD=" "CFLAGS_FOR_TARGET=" "INSTALL=/usr/bin/install -c"
"INSTALL_DATA=<i class="moz-txt-slash"><span class="moz-txt-tag">/</span>usr/bin/install -c -m 644" "INSTALL_PROGRAM=/usr/bin<span class="moz-txt-tag">/</span></i>
install -c" "INSTALL_SCRIPT=/usr/bin/install -c" "JC1FLAGS="
"LDFLAGS=" "LIBCFLAGS=" "LIBCFLAGS_FOR_TARGET=" "MAKE=make" "MAKEINFO=/
bin/sh "<i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Volumes/Macintosh HD/Users/Ross<span class="moz-txt-tag">/</span></i>.rvm/gems/ruby-1.9.2-
<a class="moz-txt-link-abbreviated" href="mailto:p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/libffi/missing">p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/libffi/missing</a>"
--run makeinfo " "PICFLAG=" "PICFLAG_FOR_TARGET=" "RUNTESTFLAGS="
"SHELL=<i class="moz-txt-slash"><span class="moz-txt-tag">/</span>bin/sh" "exec_prefix=/usr/local" "infodir=/usr/local/share<span class="moz-txt-tag">/</span></i>
info" "libdir=/usr/local/lib" "prefix=/usr/local" "AR=ar" "AS=as"
"CC=gcc" "CXX=g++" "LD=ld" "NM=/usr/bin/nm" "RANLIB=ranlib" "DESTDIR="
all-recursive
make[2]: *** No rule to make target `HD/Users/Ross/.rvm/gems/
<a class="moz-txt-link-abbreviated" href="mailto:ruby-1.9.2-p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/">ruby-1.9.2-p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/</a>
libffi/missing --run makeinfo '.  Stop.
make[1]: *** [all] Error 2
make: *** ["/Volumes/Macintosh] Error 2


Gem files will remain installed in <i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Users/Ross<span class="moz-txt-tag">/</span></i>.rvm/gems/ruby-1.9.2-
<a class="moz-txt-link-abbreviated" href="mailto:p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11">p180@webapp/gems/ruby/1.9.1/gems/ffi-1.0.11</a> for inspection.
Results logged to <i class="moz-txt-slash"><span class="moz-txt-tag">/</span>Users/Ross<span class="moz-txt-tag">/</span></i>.rvm/gems/ruby-1.9.2-p180@webapp/gems/
ruby/1.9.1/gems/ffi-1.0.11/ext/ffi_c/gem_make.out

Here's the error I get when I do the make install:
ranlib: file: /usr/local/lib/libffi.a(ffi.o) has no symbols
ranlib: file: /usr/local/lib/libffi.a(darwin.o) has no symbols
/Volumes/Macintosh: /Volumes/Macintosh: is a directory
make[2]: *** [install-libLTLIBRARIES] Error 126
make[1]: *** [install-am] Error 2
make: *** [install-recursive] Error 1

Out if ideas... anyone else have an idea on how to get past this?
</pre></div></body>
</html>
</table></div>