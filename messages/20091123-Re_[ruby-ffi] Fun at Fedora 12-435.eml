Delivered-To: headius@headius.com
Received: by 10.142.224.14 with SMTP id w14cs198309wfg;
        Mon, 23 Nov 2009 05:17:31 -0800 (PST)
Received: by 10.224.121.66 with SMTP id g2mr2449865qar.47.1258982250400;
        Mon, 23 Nov 2009 05:17:30 -0800 (PST)
Return-Path: <3aYsKSwgKCEonwqm3zqA3qptm5.o0y36nA-rrus00sxqs30614.o0y@groups.bounces.google.com>
Received: from mail-qy0-f156.google.com (mail-qy0-f156.google.com [209.85.221.156])
        by mx.google.com with ESMTP id 6si12220271qwk.21.2009.11.23.05.17.30;
        Mon, 23 Nov 2009 05:17:30 -0800 (PST)
Received-SPF: pass (google.com: domain of 3aYsKSwgKCEonwqm3zqA3qptm5.o0y36nA-rrus00sxqs30614.o0y@groups.bounces.google.com designates 209.85.221.156 as permitted sender) client-ip=209.85.221.156;
Authentication-Results: mx.google.com; spf=pass (google.com: domain of 3aYsKSwgKCEonwqm3zqA3qptm5.o0y36nA-rrus00sxqs30614.o0y@groups.bounces.google.com designates 209.85.221.156 as permitted sender) smtp.mail=3aYsKSwgKCEonwqm3zqA3qptm5.o0y36nA-rrus00sxqs30614.o0y@groups.bounces.google.com
Received: by qyk28 with SMTP id 28sf1872596qyk.13
        for <headius@headius.com>; Mon, 23 Nov 2009 05:17:29 -0800 (PST)
Received: by 10.229.93.23 with SMTP id t23mr460182qcm.15.1258982249044;
        Mon, 23 Nov 2009 05:17:29 -0800 (PST)
X-BeenThere: ruby-ffi@googlegroups.com
Received: by 10.229.100.199 with SMTP id z7ls19519qcn.0.p; Mon, 23 Nov 2009 
	05:17:28 -0800 (PST)
Received: by 10.229.43.130 with SMTP id w2mr466014qce.1.1258982248135;
        Mon, 23 Nov 2009 05:17:28 -0800 (PST)
Received: by 10.229.43.130 with SMTP id w2mr466013qce.1.1258982248118;
        Mon, 23 Nov 2009 05:17:28 -0800 (PST)
Return-Path: <bkearney@redhat.com>
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
        by gmr-mx.google.com with ESMTP id 24si438660qyk.14.2009.11.23.05.17.27;
        Mon, 23 Nov 2009 05:17:28 -0800 (PST)
Received-SPF: pass (google.com: domain of bkearney@redhat.com designates 209.132.183.28 as permitted sender) client-ip=209.132.183.28;
Received: from int-mx04.intmail.prod.int.phx2.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com [10.5.11.17])
	by mx1.redhat.com (8.13.8/8.13.8) with ESMTP id nANDHRM3002770
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <ruby-ffi@googlegroups.com>; Mon, 23 Nov 2009 08:17:27 -0500
Received: from ns3.rdu.redhat.com (ns3.rdu.redhat.com [10.11.255.199])
	by int-mx04.intmail.prod.int.phx2.redhat.com (8.13.8/8.13.8) with ESMTP id nANDHQex013294
	for <ruby-ffi@googlegroups.com>; Mon, 23 Nov 2009 08:17:26 -0500
Received: from localhost.localdomain (vpn-11-184.rdu.redhat.com [10.11.11.184])
	by ns3.rdu.redhat.com (8.13.8/8.13.8) with ESMTP id nANDHQqD029473
	for <ruby-ffi@googlegroups.com>; Mon, 23 Nov 2009 08:17:26 -0500
Message-ID: <4B0A8B6C.6080703@redhat.com>
Date: Mon, 23 Nov 2009 08:17:32 -0500
From: Bryan Kearney <bkearney@redhat.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.4pre) Gecko/20090922 Fedora/3.0-3.9.b4.fc12 Thunderbird/3.0b4
MIME-Version: 1.0
To: ruby-ffi@googlegroups.com
Subject: Re: [ruby-ffi] Fun at Fedora 12
References: <f501d43e-5527-4057-b704-005f3c5e7923@c34g2000yqn.googlegroups.com>
In-Reply-To: <f501d43e-5527-4057-b704-005f3c5e7923@c34g2000yqn.googlegroups.com>
X-Scanned-By: MIMEDefang 2.67 on 10.5.11.17
Reply-To: ruby-ffi@googlegroups.com
Precedence: list
Mailing-list: list ruby-ffi@googlegroups.com; contact ruby-ffi+owners@googlegroups.com
List-ID: <ruby-ffi.googlegroups.com>
List-Post: <http://groups.google.com/group/ruby-ffi/post?hl=>, 
	<mailto:ruby-ffi@googlegroups.com>
List-Help: <http://groups.google.com/support/?hl=>, <mailto:ruby-ffi+help@googlegroups.com>
List-Archive: <http://groups.google.com/group/ruby-ffi?hl=>
X-Thread-Url: http://groups.google.com/group/ruby-ffi/t/5bafff1633215e1
X-Message-Url: http://groups.google.com/group/ruby-ffi/msg/294842260979b9bd
List-Unsubscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+unsubscribe@googlegroups.com>
List-Subscribe: <http://groups.google.com/group/ruby-ffi/subscribe?hl=>, 
	<mailto:ruby-ffi+subscribe@googlegroups.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 11/22/2009 05:55 PM, Dmitry A. Ustalov wrote:
> Hello! I'm trying to install ffi gem on my Fedora 12:
>
> eveel@notazik{~}% sudo gem install ffi
> Building native extensions.  This could take a while...
> ERROR:  Error installing ffi:
> 	ERROR: Failed to build gem native extension.
> ...
> make
> gcc -I. -I. -I/usr/lib/ruby/1.8/i386-linux -I. -I/usr/lib/ruby/gems/
> 1.8/gems/ffi-0.5.3/ext/ffi_c/libffi/include -DRUBY_EXTCONF_H=
> \"extconf.h\"  -D_FILE_OFFSET_BITS=64 -fPIC -O2 -g -pipe -Wall -Wp,-
> D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-
> size=4 -m32 -march=i686 -mtune=atom -fasynchronous-unwind-tables -fno-
> strict-aliasing  -fPIC-Werror -Wunused -Wformat -Wimplicit -Wreturn-
> type   -c Call.c
> cc1: error: unrecognized command line option "-fPIC-Werror"
> make: *** [Call.o] Error 1
>
> It's really sad. Perhaps, trouble is in file ext/ffi_c/extconf.rb:
> $CFLAGS<<  "-mwin32 " if Config::CONFIG['host_os'] =~ /cygwin/
> $CFLAGS<<  "-Werror -Wunused -Wformat -Wimplicit -Wreturn-type"
> maybe we need put a space character before -Werror gcc key?
>
> Thanks.
give this a try:

http://bkearney.fedorapeople.org/rubygem-ffi-0.5.2-1.fc11.src.rpm

You can rebuild the srpm and the install the rpm. If you happen to be a 
packaged, I need a package approval for:

https://bugzilla.redhat.com/show_bug.cgi?id=533291

-- bk

